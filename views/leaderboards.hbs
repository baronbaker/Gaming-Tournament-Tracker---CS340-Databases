<section>
    <h2>Manage Leaderboards</h2>

    <!-- READ -->
    <h3>Browse Leaderboard Entries (READ)</h3>
    <table>
        <thead>
            <tr>
                <th>leaderboardID</th>
                <th>Tournament</th>
                <th>Player</th>
                <th>Points</th>
                <th>Placement</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            {{#if leaderboards.length}}
                {{#each leaderboards}}
                <tr>
                    <td>{{leaderboardID}}</td>
                    <td>{{tournamentTitle}} (ID {{tournamentID}})</td>
                    <td>{{playerName}} (ID {{playerID}})</td>
                    <td>{{points}}</td>
                    <td>{{#if placement}}{{placement}}{{else}}(none){{/if}}</td>
                    <td>
                        <form method="POST" action="/leaderboards/delete">
                            <input type="hidden" name="leaderboardID" value="{{leaderboardID}}">
                            <button type="submit">Delete</button>
                        </form>
                    </td>
                </tr>
                {{/each}}
            {{else}}
                <tr><td colspan="6">No leaderboard entries found.</td></tr>
            {{/if}}
        </tbody>
    </table>

    <hr>

    <!-- CREATE -->
    <h3>Add Leaderboard Entry (CREATE)</h3>
    <form id="add-leaderboard-form" method="POST" action="/leaderboards/add" class="form-grid">
        <label for="add-tournamentID">Tournament:</label>
        <select id="add-tournamentID" name="tournamentID" required>
            <option value="">Select a tournament</option>
            {{#each tournamentsList}}
                <option value="{{tournamentID}}">{{tournamentTitle}} (ID {{tournamentID}})</option>
            {{/each}}
        </select>

        <label for="add-playerID">Player:</label>
        <select id="add-playerID" name="playerID" required>
            <option value="">Select a player</option>
            {{#each playersList}}
                <option value="{{playerID}}">{{playerName}} (ID {{playerID}})</option>
            {{/each}}
        </select>

        <label for="add-points">Points:</label>
        <input type="number" id="add-points" name="pointsInput" required>

        <label for="add-placement">Placement:</label>
        <input type="number" id="add-placement" name="placementInput">

        <button type="submit">Add Entry</button>
    </form>

    <hr>

    <!-- UPDATE -->
    <h3>Update Leaderboard Entry (UPDATE)</h3>
    <p>Enter a <code>leaderboardID</code> and fields to adjust.</p>
    <form id="update-leaderboard-form" method="POST" action="/leaderboards/update" class="form-grid">
        <label for="update-leaderboardID">leaderboardID:</label>
        <input type="number" id="update-leaderboardID" name="leaderboardID" required>

        <label for="update-tournamentID">New Tournament:</label>
        <select id="update-tournamentID" name="tournamentID">
            <option value="">(no change)</option>
            {{#each tournamentsList}}
                <option value="{{tournamentID}}">{{tournamentTitle}} (ID {{tournamentID}})</option>
            {{/each}}
        </select>

        <label for="update-playerID">New Player:</label>
        <select id="update-playerID" name="playerID">
            <option value="">(no change)</option>
            {{#each playersList}}
                <option value="{{playerID}}">{{playerName}} (ID {{playerID}})</option>
            {{/each}}
        </select>

        <label for="update-points">New Points:</label>
        <input type="number" id="update-points" name="pointsInput">

        <label for="update-placement">New Placement:</label>
        <input type="number" id="update-placement" name="placementInput">

        <button type="submit">Update Entry</button>
    </form>
</section>
